// Code generated by goa v3.11.3, DO NOT EDIT.
//
// ItemService gRPC client CLI support package
//
// Command:
// $ goa gen mpg/items/design

package client

import (
	"encoding/json"
	"fmt"
	item_servicepb "mpg/items/gen/grpc/item_service/pb"
	itemservice "mpg/items/gen/item_service"
)

// BuildCreateItemPayload builds the payload for the ItemService createItem
// endpoint from CLI flags.
func BuildCreateItemPayload(itemServiceCreateItemMessage string) (*itemservice.CreateItemPayload, error) {
	var err error
	var message item_servicepb.CreateItemRequest
	{
		if itemServiceCreateItemMessage != "" {
			err = json.Unmarshal([]byte(itemServiceCreateItemMessage), &message)
			if err != nil {
				return nil, fmt.Errorf("invalid JSON for message, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"damage\": 9130759664473784082,\n      \"description\": \"Quod et unde quidem temporibus architecto.\",\n      \"healing\": 1398113917470051483,\n      \"name\": \"Impedit et quasi qui.\",\n      \"protection\": 5568558875973245467\n   }'")
			}
		}
	}
	v := &itemservice.CreateItemPayload{
		Name:        message.Name,
		Description: message.Description,
		Damage:      int(message.Damage),
		Healing:     int(message.Healing),
		Protection:  int(message.Protection),
	}

	return v, nil
}

// BuildGetItemsPayload builds the payload for the ItemService getItems
// endpoint from CLI flags.
func BuildGetItemsPayload(itemServiceGetItemsMessage string) (*itemservice.GetItemsPayload, error) {
	var err error
	var message item_servicepb.GetItemsRequest
	{
		if itemServiceGetItemsMessage != "" {
			err = json.Unmarshal([]byte(itemServiceGetItemsMessage), &message)
			if err != nil {
				return nil, fmt.Errorf("invalid JSON for message, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"id\": [\n         \"Et facere ab dolores.\",\n         \"Voluptas exercitationem et.\"\n      ]\n   }'")
			}
		}
	}
	v := &itemservice.GetItemsPayload{}
	if message.Id != nil {
		v.ID = make([]string, len(message.Id))
		for i, val := range message.Id {
			v.ID[i] = val
		}
	}

	return v, nil
}

// BuildUpdateItemPayload builds the payload for the ItemService updateItem
// endpoint from CLI flags.
func BuildUpdateItemPayload(itemServiceUpdateItemMessage string) (*itemservice.UpdateItemPayload, error) {
	var err error
	var message item_servicepb.UpdateItemRequest
	{
		if itemServiceUpdateItemMessage != "" {
			err = json.Unmarshal([]byte(itemServiceUpdateItemMessage), &message)
			if err != nil {
				return nil, fmt.Errorf("invalid JSON for message, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"damage\": 77559218004444832,\n      \"description\": \"Optio occaecati sint mollitia aspernatur.\",\n      \"healing\": 8195123972751783688,\n      \"id\": \"Et et quis aperiam harum rerum dolorum.\",\n      \"name\": \"Magnam sequi.\",\n      \"protection\": 3012358727598942804\n   }'")
			}
		}
	}
	v := &itemservice.UpdateItemPayload{
		ID:          message.Id,
		Name:        message.Name,
		Description: message.Description,
	}
	if message.Damage != nil {
		damage := int(*message.Damage)
		v.Damage = &damage
	}
	if message.Healing != nil {
		healing := int(*message.Healing)
		v.Healing = &healing
	}
	if message.Protection != nil {
		protection := int(*message.Protection)
		v.Protection = &protection
	}

	return v, nil
}

// BuildDeleteItemPayload builds the payload for the ItemService deleteItem
// endpoint from CLI flags.
func BuildDeleteItemPayload(itemServiceDeleteItemMessage string) (*itemservice.DeleteItemPayload, error) {
	var err error
	var message item_servicepb.DeleteItemRequest
	{
		if itemServiceDeleteItemMessage != "" {
			err = json.Unmarshal([]byte(itemServiceDeleteItemMessage), &message)
			if err != nil {
				return nil, fmt.Errorf("invalid JSON for message, \nerror: %s, \nexample of valid JSON:\n%s", err, "'{\n      \"id\": \"Nemo ut eaque debitis.\"\n   }'")
			}
		}
	}
	v := &itemservice.DeleteItemPayload{
		ID: message.Id,
	}

	return v, nil
}
